import{S as ge,i as me,s as pe,k as p,q as S,a as U,l as k,m as E,r as N,h as _,c as B,n as d,b as Z,E as l,Q as ce,F as X,u as W,O as ke,G as ae,N as be,H as Ie,o as Ee,R as Re,P as ye}from"../chunks/index.1befde18.js";function de(s,t,e){const n=s.slice();return n[11]=t[e],n}function fe(s,t,e){const n=s.slice();return n[14]=t[e],n[16]=e,n}function ve(s){let t,e,n,f,r=1+s[16]+"",i,v,A,b,m;return A=Re(s[8][0]),{c(){t=p("li"),e=p("input"),n=U(),f=p("label"),i=S(r),v=U(),this.h()},l(h){t=k(h,"LI",{class:!0});var u=E(t);e=k(u,"INPUT",{type:!0,id:!0,class:!0}),n=B(u),f=k(u,"LABEL",{for:!0,class:!0});var T=E(f);i=N(T,r),T.forEach(_),v=B(u),u.forEach(_),this.h()},h(){d(e,"type","radio"),d(e,"id",`radio ${1+s[16]}`),e.__value=1+s[16],e.value=e.__value,d(e,"class","svelte-1nndvkm"),d(f,"for",`radio ${1+s[16]}`),d(f,"class","svelte-1nndvkm"),d(t,"class","svelte-1nndvkm"),A.p(e)},m(h,u){Z(h,t,u),l(t,e),e.checked=e.__value===s[2],l(t,n),l(t,f),l(f,i),l(t,v),b||(m=X(e,"change",s[7]),b=!0)},p(h,u){u&4&&(e.checked=e.__value===h[2])},d(h){h&&_(t),A.r(),b=!1,m()}}}function he(s){let t,e,n,f;return{c(){t=p("p"),e=S("Text must be at least "),n=S(Y),f=S(" characters"),this.h()},l(r){t=k(r,"P",{class:!0});var i=E(t);e=N(i,"Text must be at least "),n=N(i,Y),f=N(i," characters"),i.forEach(_),this.h()},h(){d(t,"class","warning-message svelte-1nndvkm")},m(r,i){Z(r,t,i),l(t,e),l(t,n),l(t,f)},p:ae,d(r){r&&_(t)}}}function _e(s,t){let e,n,f=t[11].rating+"",r,i,v,A=t[11].text+"",b,m,h,u,T,y,V,g,O;return{key:s,first:null,c(){e=p("div"),n=p("div"),r=S(f),i=U(),v=p("p"),b=S(A),m=U(),h=p("button"),u=S("X"),y=U(),this.h()},l(D){e=k(D,"DIV",{class:!0});var I=E(e);n=k(I,"DIV",{class:!0});var M=E(n);r=N(M,f),M.forEach(_),i=B(I),v=k(I,"P",{});var q=E(v);b=N(q,A),q.forEach(_),m=B(I),h=k(I,"BUTTON",{class:!0});var J=E(h);u=N(J,"X"),J.forEach(_),y=B(I),I.forEach(_),this.h()},h(){d(n,"class","review-card-rating svelte-1nndvkm"),d(h,"class","review-card-close-button svelte-1nndvkm"),h.value=T=t[11].id,d(e,"class",V="review-card "+(t[11].fadeIn?"fade-in":"")+" "+(t[11].fadeOut?"fade-out":"")+" svelte-1nndvkm"),this.first=e},m(D,I){Z(D,e,I),l(e,n),l(n,r),l(e,i),l(e,v),l(v,b),l(e,m),l(e,h),l(h,u),l(e,y),g||(O=X(h,"click",t[6]),g=!0)},p(D,I){t=D,I&1&&f!==(f=t[11].rating+"")&&W(r,f),I&1&&A!==(A=t[11].text+"")&&W(b,A),I&1&&T!==(T=t[11].id)&&(h.value=T),I&1&&V!==(V="review-card "+(t[11].fadeIn?"fade-in":"")+" "+(t[11].fadeOut?"fade-out":"")+" svelte-1nndvkm")&&d(e,"class",V)},d(D){D&&_(e),g=!1,O()}}}function De(s){let t,e,n,f,r,i,v,A,b,m,h,u,T,y,V,g,O,D=s[0].length+"",I,M,q,J,$,G,x,L,P=[],se=new Map,ee,ne,C=Array.from({length:10}),R=[];for(let a=0;a<C.length;a+=1)R[a]=ve(fe(s,C,a));let w=s[4]&&he(),Q=s[0];const re=a=>a[11].id;for(let a=0;a<Q.length;a+=1){let c=de(s,Q,a),o=re(c);se.set(o,P[a]=_e(o,c))}return{c(){t=p("div"),e=p("div"),n=p("h2"),f=S("Rate our service"),r=U(),i=p("form"),v=p("ul");for(let a=0;a<R.length;a+=1)R[a].c();A=U(),b=p("div"),m=p("input"),h=U(),u=p("button"),T=S("Rate"),y=U(),w&&w.c(),V=U(),g=p("div"),O=p("div"),I=S(D),M=S(" Reviews"),q=U(),J=p("div"),$=S("Average rating: "),G=S(s[3]),x=U(),L=p("div");for(let a=0;a<P.length;a+=1)P[a].c();this.h()},l(a){t=k(a,"DIV",{class:!0});var c=E(t);e=k(c,"DIV",{class:!0});var o=E(e);n=k(o,"H2",{});var H=E(n);f=N(H,"Rate our service"),H.forEach(_),r=B(o),i=k(o,"FORM",{class:!0});var j=E(i);v=k(j,"UL",{class:!0});var ie=E(v);for(let F=0;F<R.length;F+=1)R[F].l(ie);ie.forEach(_),A=B(j),b=k(j,"DIV",{class:!0});var z=E(b);m=k(z,"INPUT",{type:!0,placeholder:!0,class:!0}),h=B(z),u=k(z,"BUTTON",{type:!0,class:!0});var oe=E(u);T=N(oe,"Rate"),oe.forEach(_),z.forEach(_),j.forEach(_),y=B(o),w&&w.l(o),o.forEach(_),V=B(c),g=k(c,"DIV",{class:!0});var K=E(g);O=k(K,"DIV",{class:!0});var te=E(O);I=N(te,D),M=N(te," Reviews"),te.forEach(_),q=B(K),J=k(K,"DIV",{class:!0});var le=E(J);$=N(le,"Average rating: "),G=N(le,s[3]),le.forEach(_),K.forEach(_),x=B(c),L=k(c,"DIV",{class:!0});var ue=E(L);for(let F=0;F<P.length;F+=1)P[F].l(ue);ue.forEach(_),c.forEach(_),this.h()},h(){d(v,"class","ratings-form-list svelte-1nndvkm"),d(m,"type","text"),d(m,"placeholder","Rate away"),d(m,"class","svelte-1nndvkm"),d(u,"type","submit"),u.disabled=s[4],d(u,"class","svelte-1nndvkm"),d(b,"class","ratings-form-group svelte-1nndvkm"),d(i,"class","ratings-form svelte-1nndvkm"),d(e,"class","ratings-header svelte-1nndvkm"),d(O,"class","total-ratings"),d(J,"class","average-ratings"),d(g,"class","ratings-body svelte-1nndvkm"),d(L,"class","ratings-footer svelte-1nndvkm"),d(t,"class","ratings-container svelte-1nndvkm")},m(a,c){Z(a,t,c),l(t,e),l(e,n),l(n,f),l(e,r),l(e,i),l(i,v);for(let o=0;o<R.length;o+=1)R[o]&&R[o].m(v,null);l(i,A),l(i,b),l(b,m),ce(m,s[1]),l(b,h),l(b,u),l(u,T),l(e,y),w&&w.m(e,null),l(t,V),l(t,g),l(g,O),l(O,I),l(O,M),l(g,q),l(g,J),l(J,$),l(J,G),l(t,x),l(t,L);for(let o=0;o<P.length;o+=1)P[o]&&P[o].m(L,null);ee||(ne=[X(m,"input",s[9]),X(m,"input",s[10]),X(u,"click",s[5])],ee=!0)},p(a,[c]){if(c&4){C=Array.from({length:10});let o;for(o=0;o<C.length;o+=1){const H=fe(a,C,o);R[o]?R[o].p(H,c):(R[o]=ve(H),R[o].c(),R[o].m(v,null))}for(;o<R.length;o+=1)R[o].d(1);R.length=C.length}c&2&&m.value!==a[1]&&ce(m,a[1]),c&16&&(u.disabled=a[4]),a[4]?w?w.p(a,c):(w=he(),w.c(),w.m(e,null)):w&&(w.d(1),w=null),c&1&&D!==(D=a[0].length+"")&&W(I,D),c&8&&W(G,a[3]),c&65&&(Q=a[0],P=ke(P,c,re,1,a,Q,se,L,ye,_e,null,de))},i:ae,o:ae,d(a){a&&_(t),be(R,a),w&&w.d();for(let c=0;c<P.length;c+=1)P[c].d();ee=!1,Ie(ne)}}}const Y=5;function we(s){return s.length>0?(s.reduce((e,n)=>e+n.rating,0)/s.length).toFixed(2):0}function Ae(s,t,e){let n,f,r=[],i="",v=0;Ee(()=>{const y=localStorage.getItem("ratingsArray");y&&e(0,r=JSON.parse(y))});function A(y){if(y.preventDefault(),i.length>=Y){let g={id:r.reduce((O,D)=>D.id>O?D.id:O,0)+1,rating:v,text:i,fadeIn:!0};r.forEach(O=>O.fadeIn=!1),e(0,r=[g,...r]),e(1,i=""),e(2,v=0),localStorage.setItem("ratingsArray",JSON.stringify(r)),setTimeout(()=>{g.fadeIn=!1,localStorage.setItem("ratingsArray",JSON.stringify(r))},2e3)}}function b(y){const V=parseInt(y.target.value);e(0,r=r.map(g=>(g.id===V&&(g.fadeOut=!0),g))),setTimeout(()=>{e(0,r=r.filter(g=>g.id!==V)),localStorage.setItem("ratingsArray",JSON.stringify(r))},1e3)}const m=[[]];function h(){v=this.__value,e(2,v)}const u=y=>e(1,i=y.target.value);function T(){i=this.value,e(1,i)}return s.$$.update=()=>{s.$$.dirty&2&&e(4,n=i.length<Y),s.$$.dirty&1&&e(3,f=we(r))},[r,i,v,f,n,A,b,h,m,u,T]}class Te extends ge{constructor(t){super(),me(this,t,Ae,De,pe,{})}}export{Te as component};
